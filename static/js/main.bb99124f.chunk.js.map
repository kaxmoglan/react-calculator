{"version":3,"sources":["App.js","index.js"],"names":["App","buttons","value","content","id","className","useState","input","setInput","formula","setFormula","equals","setEquals","result","setResult","setValue","operatorRegExp","endsWithOperator","useEffect","solve","sum","eval","cleanedFormula","test","slice","answer","Math","round","toString","handleButtons","length","document","onkeydown","e","key","handleClear","handleClick","currentTarget","includes","Number","isNaN","match","concat","x","parseFloat","y","map","btn","idx","onClick","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bb99124f.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  // DATA\n  const buttons = [\n    {\n      value: \"init\",\n      content: \"C\",\n      id: \"clear\",\n      className: \"number\",\n    },\n    {\n      value: \"%\",\n      content: <i className=\"fas fa-percent\"></i>,\n      id: \"percent\",\n      className: \"operator\",\n    },\n    {\n      value: \"/\",\n      content: <i className=\"fas fa-divide\"></i>,\n      id: \"divide\",\n      className: \"operator\",\n    },\n    {\n      value: \"7\",\n      content: \"7\",\n      id: \"seven\",\n      className: \"number\",\n    },\n    {\n      value: \"8\",\n      content: \"8\",\n      id: \"eight\",\n      className: \"number\",\n    },\n    {\n      value: \"9\",\n      content: \"9\",\n      id: \"nine\",\n      className: \"number\",\n    },\n    {\n      value: \"*\",\n      content: <i className=\"fas fa-times\"></i>,\n      id: \"multiply\",\n      className: \"operator\",\n    },\n    {\n      value: \"4\",\n      content: \"4\",\n      id: \"four\",\n      className: \"number\",\n    },\n    {\n      value: \"5\",\n      content: \"5\",\n      id: \"five\",\n      className: \"number\",\n    },\n    {\n      value: \"6\",\n      content: \"6\",\n      id: \"six\",\n      className: \"number\",\n    },\n    {\n      value: \"-\",\n      content: <i className=\"fas fa-minus\"></i>,\n      id: \"subtract\",\n      className: \"operator\",\n    },\n    {\n      value: \"1\",\n      content: \"1\",\n      id: \"one\",\n      className: \"number\",\n    },\n    {\n      value: \"2\",\n      content: \"2\",\n      id: \"two\",\n      className: \"number\",\n    },\n    {\n      value: \"3\",\n      content: \"3\",\n      id: \"three\",\n      className: \"number\",\n    },\n    {\n      value: \"+\",\n      content: <i className=\"fas fa-plus\"></i>,\n      id: \"add\",\n      className: \"operator\",\n    },\n    {\n      value: \"0\",\n      content: \"0\",\n      id: \"zero\",\n      className: \"number\",\n    },\n    {\n      value: \".\",\n      content: \".\",\n      id: \"decimal\",\n      className: \"number\",\n    },\n    {\n      value: \"=\",\n      content: <i className=\"fas fa-equals\"></i>,\n      id: \"equals\",\n      className: \"operator\",\n    },\n  ];\n\n  // STATE\n  const [input, setInput] = useState(\"0\");\n  const [formula, setFormula] = useState(\"\");\n  const [equals, setEquals] = useState(false);\n  const [result, setResult] = useState();\n  const [value, setValue] = useState(\"0\");\n\n  // OPERATOR REGEXPs\n  const operatorRegExp = /[*+/-]/;\n  const endsWithOperator = /[*+-/]$/;\n\n  // USE EFFECTS\n  // evaluate formula when equals state changes\n  useEffect(() => {\n    if (equals) {\n      let cleanedFormula = formula;\n      while (endsWithOperator.test(cleanedFormula)) {\n        cleanedFormula = cleanedFormula.slice(0, -1);\n      }\n\n      function solve(sum) {\n        return eval(sum);\n      }\n      const answer =\n        Math.round(1000000000 * solve(cleanedFormula)) / 1000000000;\n      setResult(answer);\n      setFormula(`${cleanedFormula} = ${answer}`);\n      setInput(answer.toString());\n    }\n  }, [equals]);\n\n  // run whenever value state changes\n  useEffect(() => {\n    handleButtons(value);\n  }, [value]);\n\n  // run whenever input state changes\n  useEffect(() => {\n    if (input.length > 11) {\n      setInput(\"MAX LIMIT\");\n    }\n  }, [input]);\n\n  // KEYBOARD FUNCTIONALITY\n  useEffect(() => {\n    document.onkeydown = (e) => {\n      const keyPress = e.key;\n      switch (keyPress) {\n        case \"Enter\":\n          setValue(\"=\");\n          break;\n        case \"c\":\n          setValue(\"init\");\n          break;\n        case \" \":\n          setValue(\"0\");\n          break;\n        case \"x\":\n          setValue(\"*\");\n          break;\n        default:\n          setValue(e.key);\n          break;\n      }\n    };\n  });\n\n  // HANDLERS\n  const handleClear = () => {\n    setInput(\"0\");\n    setFormula(\"\");\n    setEquals(false);\n  };\n\n  const handleClick = (e) => {\n    setValue(e.currentTarget.value);\n  };\n\n  const handleButtons = (value) => {\n    if (input.length > 11) {\n      setInput(\"MAX LIMIT\");\n      return;\n    }\n    if (input.includes(\"LIMIT\") && value !== \"init\") {\n      return;\n    }\n    if (!Number.isNaN(Number(value))) {\n      // IF NUMBER\n      if (equals) {\n        handleClear();\n        setInput(value);\n        setValue(\"\");\n      } else if (input.match(operatorRegExp)) {\n        setFormula(formula.concat(` ${input}`));\n        setInput(value);\n        if (value !== \"0\") {\n          setValue(\"\");\n        }\n      } else if (input === \"0\" && value === \"0\") {\n        return;\n      } else if (input === \"0\") {\n        setInput(value);\n        setValue(\"\");\n      } else {\n        setInput(input.concat(value));\n        setValue(\"\");\n      }\n    } else if (value.match(operatorRegExp)) {\n      // ELSE IF OPERATOR\n      if (equals) {\n        setFormula(result.toString());\n        setInput(value);\n        setEquals(false);\n      } else {\n        if (input === \"0\" && value === \"-\") {\n          if (value === \"-\") {\n            setInput(value);\n          } else return;\n        } else if (\n          input.match(/[*+/]/) &&\n          input.length === 1 &&\n          value === \"-\"\n        ) {\n          setInput(input.concat(value));\n        } else if (!input.match(operatorRegExp)) {\n          setFormula(formula.concat(` ${input}`));\n          setInput(value);\n        } else {\n          setInput(value);\n        }\n      }\n    } else {\n      switch (value) {\n        case \"init\":\n          handleClear();\n          break;\n        case \".\":\n          if (input.match(operatorRegExp)) {\n            setFormula(formula.concat(` ${input}`));\n            setInput(\"0.\");\n          } else if (!input.includes(\".\")) {\n            setInput(input.concat(value));\n          }\n          break;\n        case \"=\":\n          if (!equals) {\n            setFormula(formula.concat(` ${input}`));\n            setEquals(true);\n          }\n          break;\n        case \"%\":\n          const x = parseFloat(input);\n          const y = (Math.round(1000000 * (x / 100)) / 1000000).toString();\n          setInput(y);\n          break;\n        default:\n          return;\n      }\n      return;\n    }\n    return;\n  };\n\n  return (\n    <>\n      <h1>Calcleator</h1>\n      <div id=\"calculator\">\n        <div id=\"display\">\n          <p id=\"equation\">{formula}</p>\n          <p id=\"current\">{input}</p>\n        </div>\n        <div className=\"btn-section\">\n          {buttons.map((btn, idx) => (\n            <button\n              onClick={handleClick}\n              id={btn.id}\n              className={btn.className}\n              key={idx}\n              value={btn.value}\n            >\n              {btn.content}\n            </button>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}